From 74ae75e291862530801ec9cc707dc810c52a84fd Mon Sep 17 00:00:00 2001
From: Weng Xuetian <wengxt@gmail.com>
Date: Sun, 25 Mar 2012 09:59:24 +0800
Subject: [PATCH 1/2] fix for gcc 4.7.0

---
 src/lib/fcitx-config/CMakeLists.txt |    5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/lib/fcitx-config/CMakeLists.txt b/src/lib/fcitx-config/CMakeLists.txt
index f9fd2ec..2b361c6 100644
--- a/src/lib/fcitx-config/CMakeLists.txt
+++ b/src/lib/fcitx-config/CMakeLists.txt
@@ -1,10 +1,13 @@
 set(FCITX_CONFIG_SOURCES
     fcitx-config.c
     hotkey.c
-    sprintf.c
     xdg.c
 )
 
+if (NOT HAVE_ASPRINTF)
+    set(FCITX_CONFIG_SOURCES ${FCITX_CONFIG_SOURCES} sprintf.c)
+endif (NOT HAVE_ASPRINTF)
+
 set(FCITX_CONFIG_HEADERS
     fcitx-config.h
     hotkey.h
-- 
1.7.9.4

