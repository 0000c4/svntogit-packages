# $Id$
# Maintainer: Ray Rashif <schiv@archlinux.org>
# Contributor: Daniel J Griffiths <ghost1227@archlinux.us>
# Contributor: Eric Belanger <eric@archlinux.org>

pkgname=eric4-plugins
pkgver=4.4.4a
pkgrel=1
pkgdesc="Plug-ins for the Eric (4.x) IDE"
arch=('any')
url="http://eric-ide.python-projects.org/"
license=('GPL3')
depends=('eric4')
conflicts=('eric-plugins<5')
optdepends=('cx_freeze: for using CxFreeze plugin'
            'pylint: for using PyLint plugin')
source=("http://downloads.sourceforge.net/eric-ide/Plugin_Checker_PyLint-4.2.1.tar.gz"
        "http://downloads.sourceforge.net/eric-ide/Plugin_Assistant_Eric-1.2.3.tar.gz"
        "http://downloads.sourceforge.net/eric-ide/Plugin_Project_Pylons-1.0.0.tar.gz"
        "http://downloads.sourceforge.net/eric-ide/Plugin_Project_wxPython-1.0.3.tar.gz"
        "http://downloads.sourceforge.net/eric-ide/Plugin_Project_TurboGears-1.0.5.tar.gz"
        "http://downloads.sourceforge.net/eric-ide/Plugin_Packager_CxFreeze-4.3.0.tar.gz"
        "http://downloads.sourceforge.net/eric-ide/Plugin_Refactoring_Rope-1.1.5.tar.gz"
        "http://downloads.sourceforge.net/eric-ide/Plugin_Tools_CharTables-4.1.4.tar.gz"
        "http://downloads.sourceforge.net/eric-ide/Plugin_Vcs_CVS-4.1.12.tar.gz"
        "http://downloads.sourceforge.net/eric-ide/Plugin_Project_Django-2.1.2.tar.gz")
md5sums=('91df79eb6f6d117f64be4d441dd54fa0'
         '068a716bdfb2e34712fd374306cd6516'
         '6301dec0fd21d14b3d885f699a41db3b'
         'ed877f46064076a3e7319483e31ddf5a'
         'cd2a61fe2231c14955151764f7744561'
         'f1404f63f300f72352545c99d95d0b06'
         '8c7bab8b84713c9a5cc20a43991554c3'
         'ee120a9950e86bb9e225a2d6d65a355f'
         '119cfb72a58c48272410cb20436e0e71'
         'ac12bd9c175aaa4e77cd71c214a66233')

package() {
  cd "$srcdir"

  _pymodpath=$(python2 -c \
    "from distutils.sysconfig import get_python_lib; print(get_python_lib())")

  install -d  "$pkgdir$_pymodpath/eric4plugins"

  bsdtar xf Plugin_Checker_PyLint-4.2.1/*.zip \
    -C "$pkgdir$_pymodpath/eric4plugins"
  bsdtar xf Plugin_Assistant_Eric-1.2.3/*.zip \
    -C "$pkgdir$_pymodpath/eric4plugins"
  bsdtar xf Plugin_Project_Pylons-1.0.0/*.zip \
    -C "$pkgdir$_pymodpath/eric4plugins"
  bsdtar xf Plugin_Project_wxPython-1.0.3/*.zip \
    -C "$pkgdir$_pymodpath/eric4plugins"
  bsdtar xf Plugin_Project_TurboGears-1.0.5/*.zip \
    -C "$pkgdir$_pymodpath/eric4plugins"
  bsdtar xf Plugin_Packager_CxFreeze-4.3.0/*.zip \
    -C "$pkgdir$_pymodpath/eric4plugins"
  bsdtar xf Plugin_Refactoring_Rope-1.1.5/*.zip \
    -C "$pkgdir$_pymodpath/eric4plugins"
  bsdtar xf Plugin_Tools_CharTables-4.1.4/*.zip \
    -C "$pkgdir$_pymodpath/eric4plugins"
  bsdtar xf Plugin_Vcs_CVS-4.1.12/*.zip \
    -C "$pkgdir$_pymodpath/eric4plugins"
  bsdtar xf Plugin_Project_Django-2.1.2/*.zip \
    -C "$pkgdir$_pymodpath/eric4plugins"

  rm -r "$pkgdir$_pymodpath"/eric4plugins/{VERSION,*/Documentation}
  find "$pkgdir" -type d -exec chmod 755 {} \;
  find "$pkgdir" -type f -exec chmod 644 {} \;
}

# vim:set ts=2 sw=2 et:
