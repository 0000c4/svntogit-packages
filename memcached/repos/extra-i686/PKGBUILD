# Maintainer: Dan McGee <dan@archlinux.org>
# Contributor: Michael Irwin <6d6469@gmail.com>

pkgname=memcached
pkgver=1.2.7
pkgrel=1
pkgdesc="A distributed memory object caching system"
arch=(i686 x86_64)
url="http://www.danga.com/memcached/"
license=('GPL')
depends=('libevent')
backup=('etc/conf.d/memcached')
source=(http://www.danga.com/memcached/dist/$pkgname-$pkgver.tar.gz
        memcached.conf
        memcached.sh)

build() {
  cd $startdir/src/$pkgname-$pkgver
  # enable threads needs to be explicit
  ./configure --prefix=/usr --enable-threads
  make || return 1
  make DESTDIR=$startdir/pkg install || return 1
  install -D -m 644 $startdir/src/$pkgname.conf \
  	$startdir/pkg/etc/conf.d/$pkgname
  install -D -m 755 $startdir/src/$pkgname.sh \
  	$startdir/pkg/etc/rc.d/$pkgname
}

md5sums=('c3b6a9850a75c4ed567b975eaf2b2305'
         'bf5c601297b42be7baa0a3bcca2d6077'
         '001c5d6dc5d106f5a8aa2fc64525f5ba')
sha256sums=('5db604058cd1378fe3c0671144d768db3c10d254853619e45b0cd179075a87ca'
            '4d3c586a9bd8bd8e8499d08149a5fe534a941e2e5098ef08f9b55eaa3241cc0d'
            '6b606000c37420f1d7f34e735670daeaad889e2937e7490a71f2584fce6f2922')
