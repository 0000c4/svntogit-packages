# $Id$
# Maintainer : Tobias Powalowski <tpowa@archlinux.org>

pkgname=archboot
pkgver=2011.08
pkgrel=2
pkgdesc="Advanced, modular arch boot/install image creation utility"
arch=(any)
license=('GPL')
url="http://www.archlinux.org/"
depends=('mkinitcpio>=0.7.2-1' 'mksyslinux>=2010.08-1' 'mkpxelinux>=2010.08-1' 'mkisolinux>=2010.08-1' 'initscripts>=2011.07.3-1' 'subversion>=1.6.17-6' 'wget>=1.12-7' 'bash>=4.2.010-1' 'coreutils>=8.12-3' 'cryptsetup>=1.3.1-2' 'dialog>=1.1_20110707-1' 'e2fsprogs>=1.41.14-1' 'findutils>=4.4.2-3' 'gawk>=4.0.0-1' 'grep>=2.9-1' 'iputils>=20101006-1' 'jfsutils>=1.1.15-2' 'less>=444-1' 'lvm2>=2.02.86-1' 'mdadm>=3.2.2-2' 'module-init-tools>=3.16-1' 'nano>=2.2.6-1' 'ncurses>=5.9-1' 'net-tools>=1.60-18' 'gnu-netcat>=0.7.1-3' 'ntfsprogs>=2011.4.12-1' 'pcmciautils>=017-2' 'procps>=3.2.8-4' 'psmisc>=22.14-1' 'reiserfsprogs>=3.6.21-3' 'sed>=4.2.1-3' 'snarf>=7.0-4' 'syslog-ng>=3.2.4-3' 'sysvinit>=2.88-2' 'tar>=1.26-1' 'util-linux>=2.19.1-2' 'which>=2.20-4' 'kbd>=1.15.3-1' 'wireless_tools>=29-4' 'xfsprogs>=3.1.5-1' 'dnsutils>=9.8.0.P4-1' 'hdparm>=9.37-1' 'memtest86+>=4.20-1' 'inetutils>=1.8-3' 'openssh>=5.8p2-9' 'hwdetect>=2011.06-1' 'shadow>=4.1.4.3-2' 'bridge-utils>=1.4-4' 'ifenslave>=1.1.0-6' 'cpufrequtils>=008-1' 'links>=2.3pre2-1' 'dosfstools>=3.0.11-1' 'glibc>=2.14-4' 'linux-api-headers>=2.6.39.1-1' 'linux>=3.0-2' 'kernel26-lts>=2.6.32.43-1' 'xinetd>=2.3.14-7' 'kexec-tools>=2.0.2-3' 'ppp>=2.4.5-2' 'rp-pppoe>=3.10-7' 'lilo>=23.2-1' 'iptables>=1.4.12-2' 'capi4k-utils>=050718-7' 'isdn4k-utils>=3.2p1-6' 'ntfs-3g>=2011.4.12-1' 'pciutils>=3.1.7-4' 'usbutils>=003-1' 'vpnc>=0.5.3-3' 'openvpn>=2.2.0-1' 'b43-fwcutter>=014-1' 'wpa_supplicant>=0.7.3-3' 'rsync>=3.0.8-2' 'gzip>=1.4-2' 'libarchive>=2.8.4-2' 'device-mapper>=2.02.86-1' 'screen>=4.0.3-12' 'elfutils>=0.152-1' 'pam>=1.1.3-2' 'cracklib>=2.8.18-1' 'nfs-utils>=1.2.4-1' 'nfsidmap>=0.24-2' 'readline>=6.2.001-2' 'acl>=2.2.51-1' 'attr>=2.4.46-1' 'pcre>=8.12-1' 'cpio>=2.11-2' 'fuse>=2.8.5-1' 'libusb>=1.0.8-1' 'vim>=7.3.266-1' 'lzo2>=2.05-1' 'libsasl>=2.1.23-6' 'libldap>=2.4.26-3' 'gpm>=1.20.6-6' 'libevent>=2.0.12-1' 'gcc-libs>=4.6.1-2' 'sdparm>=1.06-1' 'licenses>=2.8-1' 'pptpclient>=1.7.2-3' 'zd1211-firmware>=1.4-4' 'ipw2100-fw>=1.3-5' 'ipw2200-fw>=3.1-3' 'smbclient>=3.5.10-1' 'bittorrent>=5.2.2-4' 'dhcpcd>=5.2.12-1' 'openssl>=1.0.0.d-1' 'git>=1.7.6-1' 'dmraid>=1.0.0.rc16.3-2' 'linux-atm>=2.5.1-2' 'netcfg>=2.6.5-1' 'parted>=3.0-3' 'tzdata>=2011h-1' 'ntp>=4.2.6.p3-3' 'libgcrypt>=1.5.0-1' 'iw>=0.9.22-1' 'crda>=1.1.1-3' 'libnl>=1.1-2' 'iproute2>=2.6.39-1' 'wireless-regdb>=2010.11.24-1' 'v86d>=0.1.10-2' 'dhclient>=4.2.1.1-1' 'syslinux>=4.04-1' 'mtools>=4.0.17-1' 'fsarchiver>=0.6.12-1' 'xz>=5.0.3-1' 'libtirpc>=0.2.2-2' 'librpcsecgss>=0.19-5' 'rpcbind>=0.2.0-3' 'testdisk>=6.12-1' 'wipe>=2.3.1-1' 'ddrescue>=1.14-1' 'udev>=172-2' 'ifplugd>=0.28-7' 'wpa_actiond>=1.1-2' 'nouveau-firmware>=20091212-4' 'rfkill>=0.4-2' 'libgssglue>=0.3-1' 'mkinitcpio-nfs-utils>=0.2-1' 'gptfdisk>=0.7.2-1' 'nilfs-utils>=2.0.23-1' 'btrfs-progs-unstable>=0.19.20101006-1' 'nouveau-drm-lts>=0.0.16_20100313-6' 'linux-firmware>=20110727-1' 'iana-etc>=2.30-2' 'libusb-compat>=0.1.3-1' 'eject>=2.1.5-5' 'keyutils>=1.5.2-1' 'libisoburn>=1.1.2-1' 'squashfs-tools>=4.2-1')
optdepends=('grub2-bios: for grub2 support'
            'grub2-efi-i386: for grub2 support'
            'grub2-efi-x86_64: for grub2 support'
            'efibootmgr: for grub2 support'
)
source=(ftp://ftp.archlinux.org/other/$pkgname/$pkgname-$pkgver-$pkgrel.tar.bz2)
backup=('etc/archboot/allinone.conf'
        'etc/archboot/allinone-lts.conf'
        'etc/archboot/default.conf'
        'etc/archboot/default-ftp.conf'
        'etc/archboot/default-pxelinux.conf'
        'etc/archboot/default-ftp-pxelinux.conf'
        'etc/archboot/presets/allinone'
        'etc/archboot/presets/allinone-lts'
        'etc/archboot/presets/isolinux'
        'etc/archboot/presets/isolinux-ftp'
        'etc/archboot/presets/syslinux'
        'etc/archboot/presets/syslinux-ftp'
        'etc/archboot/presets/pxelinux'
        'etc/archboot/presets/pxelinux-ftp'
)
install=archboot.install

### to bump the depends list use this:
#for i in $(grep ^depends= PKGBUILD | sed  -e 's/depends=(//g' -e 's/)//g'); do sed -i -e "s/$(echo $i)/$(echo $i | sed -e "s/>=.*/>=$(pacman -Qi $(echo $i | sed -e "s/'//g" -e 's/>=.*//g') | grep ^Version | sed -e 's/.*: //g')'/g")/g" PKGBUILD; done

build()
{
  cd $srcdir/$pkgname-$pkgver-$pkgrel
  mv * $pkgdir/
}
md5sums=('c58a667da611b6f097e8ddfe6ffa988a')
