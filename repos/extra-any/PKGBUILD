# $Id$
# Maintainer: Aaron Griffin <aaron@archlinux.org>
# Contributor: Aurelien Foret <orelien@chez.com>
# Contributor: Evangelos Foutras <foutrelis@gmail.com>

pkgname=bash-completion
pkgver=1.1
pkgrel=2
pkgdesc="Programmable completion for the bash shell"
arch=(any)
url="http://bash-completion.alioth.debian.org/"
license=('GPL')
depends=('bash')
source=(http://bash-completion.alioth.debian.org/files/$pkgname-$pkgver.tar.gz)
sha256sums=('53369b32493b58c3d0d7d45630c329faa3ca209ed6e7a6c5392a19e67904721b')

build() {
  cd "$srcdir/$pkgname-$pkgver"

  # fixes for archlinux
  sed -i 's#/sbin/lsmod#/bin/lsmod#' bash_completion || return 1

  ./configure --prefix=/usr --sysconfdir=/etc
  make || return 1
  make DESTDIR="$pkgdir" install

  # apache2ctl doesn't work, even when renamed to apachectl (and sed'd)
  rm "$pkgdir/etc/bash_completion.d/apache2ctl"
  # munin-node doesn't work, even i've updated munin to 1.4.0
  rm "$pkgdir/etc/bash_completion.d/munin-node"
}
# vim:set ts=2 sw=2 et:
