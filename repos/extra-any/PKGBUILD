# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>

pkgname=firefox-i18n
pkgver=3.5.5
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=('any')
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/as.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-BD.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-CL.xpi
        $_url/es-ES.xpi
        $_url/es-MX.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fa.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hr.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kk.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/ml.xpi
        $_url/mn.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/or.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/rm.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/ta-LK.xpi
        $_url/ta.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/vi.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('e8dd21ef03e953efe007073d7c7da0bc'
         '1582a4c4fa6e064a06d63c284eec4d68'
         '3d7be56f8b3af1b54dd5f57f0608741a'
         'ca7d2c51ee3957a780f726979702648e'
         '4dafdb37005c110a14b5cbeb20bd43de'
         '4f8e09477f2a8a6fd8c98531b26a37cd'
         '3f7f33bb59b1fa5775cdd0ffea2d8895'
         '8fd39539b161200f80efed98ed227e9e'
         'fba8336f735fb47b99b24a59da70f5b4'
         '749c81955a7ddbd5d7e3ee930661057f'
         'b6d00eb16403b828d67168dd2c04ba3a'
         'f3329017e32dfa1eb1f0d3429c722baa'
         'f4d7c2d3dabe337c53bdca1c112b33fc'
         '22c32a3a7438a040567f141d62cc8d36'
         '724dabc2561c393029714281de791a13'
         '47d314e77381b7e1e8273bd81a3739fa'
         '74f60b61d79200175061b37155eae0a5'
         '69690daf3c75b8acfe64e837bc210f72'
         '617a71571919ed7955d878ac480db1fe'
         'e348b0fdcfd7434ecf7076f7d72e3e41'
         '1d02b2a2aec0b0f98afa0133c9cf9f49'
         '3bea44f1be86664f2035df72fe477dc2'
         '684e795e3ea1ff31e9b1d8d2e6ae153f'
         '9ebf0b96472e89c21f7806f41d8cc11e'
         '894edaa93fb33ad8d45f045f86113f22'
         'f33e0cb6f4c58865aada3955264e944a'
         '6cc0dd4ddc13793749c6c06dba1c7d49'
         '1c58c7db5f636f5eccaaf8e012c77ee4'
         '20e99ddd5ad47c02d71e648da2d21c28'
         '2807eddd45b2907cb9ed828fbd7a70ef'
         'dcf6d9b41f00a78290420abf0d928606'
         'd06585e665a49a704d554e107e2b7fb9'
         '4afafb93f4c62fd14511c483aa6e8acf'
         '9eb6b804b047265f18937d7120e04b8a'
         'd0462d590ef8dd900204fd6d36328e91'
         '6cea045fd5880aacd52a14923c1ed545'
         '8e9d1bfd088217fd3c3ae9913f56619a'
         '028b8c898a4cd49907e2ebd43de174e3'
         '0b0acfc96b14b60bd9bf53b546754600'
         '7b753327a07ab0afbcf0336c08dd12ec'
         '53aad6d08a92a539b0eb3aac4080bfc2'
         'd01db7e23b28e8b28121b87880bd1e76'
         'ddab07ed5978a50ed6ca8428e42212d5'
         '79ffea84626b25111e67a722f749c5bc'
         '6b4e743a1d53a47d4cf7597b2dc70b34'
         '5fd4fd1f45ec7d210b02b50b403c14a3'
         'ca096e8ee3fbf9f38e8a9e28c1c0cb8c'
         '06dc599a06843ecfee85ad26260c42ea'
         '0232a0222f014d38fc14e4d1a93ec8e0'
         '20d25a82d534f526d41d216511be4aa2'
         '7e6fd849da1dea7d7fcc76d1fd1900de'
         '1b5de5812af679ae7c5e8ede71b916f0'
         '53b76757f93df0a4b1d96900800473d2'
         'a15635ccfc3fd7ec25a31aeba2842d4b'
         '6aed0a3ac3fe7c331dee743a21998f53'
         'd48e8c20e346f7f185917156d36d19c9'
         'a4889ce4bc7f5135a5def6631f773e39'
         '1910d674d15377d5a1bf6d643010f0d0'
         'a9422a665365fb424ce6f93149382198'
         '2b7254010c207d373885b1c8a4e16eea'
         'f4a39b27819d04d68ce781b07913b152'
         'e3e23e1b2b490299c9c60d96c9300df1'
         'fb3477b8379b16dbe346c821eda31bf8'
         'd565e07d87ca1734aea21e4dd4fe3f52'
         'ae7fba4eb4aff51faa2e0ad44de62cb6'
         '56612ee4f6c1ca73033ab3b1bca9b507'
         '470cea69e6a06c7a4ff10676aa4b22f4'
         'ea6b2cdb13df8906e5b5329ef5ed8b44'
         '18f55fe526ba3afbff6e6a1f921c7434'
         '39431649852b507ee6afafb1696969d2'
         '43c853922f28993bf25dc88e44512d42'
         'de822f3cf94d38f5eea8ed1315055816'
         '6cc703e0d1925d32984dd06d1d83459f'
         '80c7b3268cbc0d851959764871fcda2c')

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.jar" || return 1
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.manifest" || return 1
  done
}
