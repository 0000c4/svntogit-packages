# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
pkgname=firefox-i18n
pkgver=3.0.11
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=(i686 x86_64)
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-ES.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/mn.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('4cd791482a790881bfae43785a5e57ed'
         'e27236060bb83fe07874c4b9bc22f585'
         '615477f7d240321aa9922169a87ee2b0'
         '9eb3ff2426109560a5035267f5fc9ec7'
         '45aa863e8468d7b78f53a5783b4c2cd3'
         '5330aceab8a3f4cb1b176889d45f568c'
         '9edbf1e06002fe53db10721d681620c9'
         'e179e1ac183d128a32e2222a12a80d97'
         'a0fa01dfdcb849bdc253601f31ec5294'
         'd46efd5170e54b0a68e7a3447996a923'
         'ab7bc7c39d4aea0844e284b85e93ee36'
         '134cd7386797633fce2eda55133d7a42'
         '1ef952d0fcd68ba3957094dd3341798c'
         '8428f7caded1dc4f2cdc13291f3bd8b5'
         'fa229f3ad7ce6d4da8380ed2057ecb72'
         '36e1c8d3fb649cd4d113e11d7ab4120f'
         '7ed844fe9dc667cf4fdf982a2cf06802'
         'ad9625df72317d05a544a899c29b64f5'
         'dbfbffc411513968aa6c7864df45a17e'
         '6e96f22cc16e52ea29e3cc45c3dad14b'
         '4375c10fb5a15fbd06cb5d0a416add83'
         '63f2587f54dea4ec48554a5548078fc1'
         'ba85345f68c9e00955938291c718297b'
         '486fdf6a9263bea5103d5b4847ad3ecd'
         'a715e7df1b286a7d333c654482de2efd'
         'd9e921fdf96d2262650b173923387f82'
         '6e3c96567c69200b71ab293d055aa07c'
         'e9782ff8cab8afd6e8043ebe39ee0643'
         '0209be717d578826586d9a2f605a4855'
         'ed49cb2a5661e83200435d52b0399023'
         'a30e3ec014ab35331bd0445d8a049cdf'
         '2fe9a9bc81929080785a3b92c3025cc0'
         '731a0785a7dca4a6fd27097e6b516760'
         '884b1c9c8c27e2cc6c9e389a677c2d06'
         'e50c4488e8d966839af10a0dcb291792'
         '7625a38c4ec62c7ac2f90d57b6af02cf'
         '47f91094ccaafe8abb04f6a8e8cff518'
         '423fd1e6958c67098db2d374aa9324a9'
         '24e7985238995e242b7ec1340a5ae673'
         '3f39b494717de8105159b0ddfe2b6f83'
         'c8efc3d0c20d209dbfedc9c8507e7928'
         '0daaba359e4187781f8099d3a3cca0c7'
         'b888dfa76d31de6d566d51f1eab3955e'
         '044bbad0b2717eec774df14fac78ac28'
         'd41f2f2d9ddbc9f01a4e4b2f96a109ee'
         '32886d13daaa7da69ac8220929208713'
         'e5e9337b3354ade99d9f686474c23b45'
         '4fdb6f0b1b060eae6df4897a74c5b910'
         '3e5b1956690381df81264afbddd63110'
         '6997d241be84c7ba5f8c9fa8bf927ac9'
         '452f5720d9f34c518d390698b513366e'
         '658e330229b13ab74fc51983410b78b7'
         'ea54c1fac893e6865d9f9735f7bd9ba4'
         'bfc59ea0c5f033d820a927f0072456d9'
         '46871c94bc05d83526bd544d0495d7af'
         'e0bd12c92eb752a09ed73c823e04e8bb'
         'b9a6f0ab50db22ad1663271eb377db42'
         'c4aca19c9810c1ee9dce7a3897d502a9'
         'fb57784532d16a50c6eef8f562f4750a'
         '35359606a80f8191bf3baab4b76cdcdc'
         'de9abcf4d676c35728920d6635e83dd8')

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar ${pkgdir}/usr/lib/firefox-3.0/chrome/${lang}.jar || return 1
    install -D -m 644 chrome.manifest ${pkgdir}/usr/lib/firefox-3.0/chrome/${lang}.manifest || return 1
  done
}
