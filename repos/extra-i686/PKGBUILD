# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
pkgname=firefox-i18n
pkgver=3.5
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=(i686 x86_64)
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/as.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-BD.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-CL.xpi
        $_url/es-ES.xpi
        $_url/es-MX.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fa.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hr.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kk.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/ml.xpi
        $_url/mn.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/or.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/rm.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/ta-LK.xpi
        $_url/ta.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/vi.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('7e8c9d77854d805335d722e2c3cc9b70'
         'f49f268b962c6e12e455604577fcb23e'
         'fe5d7ae5969fe93cdea11235c74bd3ad'
         'a3048735e997fcd7e5e19a7f63764f0b'
         '15c42bffcbc1a7a2660ebe2d85fac353'
         '7f1399dd58b60228d5bd39585172edb7'
         'd8866e9fe50ca14b1ec0939bf22f4dfd'
         '3f0719b076653cc509eead7096f5a1cc'
         '207d42fbce653bf0a7fe577d65dcbd12'
         '2ed7b5e2a6c2ec7a048b52edfad13481'
         '1f5238d9a3fde9d6cf42d11368e3cacd'
         '7c1cc67c75a073a5f1e27a3cac25a3df'
         '4127b4699761f55ac023ccd3258320c1'
         '7ffd8ec1501c45ecb50f4c09c2f72987'
         '3a9385ab2ec49bdd828d626730123f7e'
         'c858685ac42a7aafa233b365de46d66a'
         'c61154a23ba58a62dbdfeaefd4f7a8f3'
         '1050d8172755cca62371864f06025b30'
         '70915528ae5596d7c967f9040b1721fb'
         '72240c824463ea39453c627fe53db9f8'
         'a3dbbbc0cf177edec7d086dced7882a0'
         'f55d7cecce37d1929afd4530493e7389'
         '6fc6dc1fd754eb755959458d6691abb8'
         '4fb1505512fef4f4ad3c51395ca333b0'
         '1ab311deceed6a5140fca3fb0240e437'
         'f04b4afa3b28525766b02446a608626d'
         '1af8edb338e6a0051203c6177053ac78'
         'a873dc796ff1b14d54714efb75405acd'
         '92db15162ac84fc53c33b136614cdd74'
         'ad1eb01855f8bce84772673ccbfe059d'
         '97e93134f1950e14d7253f4a2a20f8bb'
         '230c1223da3984620ce089623b2c9c03'
         'a8435ca3eee6ba6baab0c9cc03802c20'
         '2a3f1b0d2c67cb4249f9ec4227d0a3f6'
         'b27f5dd134a5b3f7e7ebf37d14307cfd'
         '875e9b3437f79261b853682b18e1be9c'
         '8ae8bd7e5c235209edf3e35f6a7351cc'
         'b33a8c108f37ebaab33c75f33fcf4639'
         'aa4868ed3458f0bcd3fd3708fd6bd141'
         'c0316ad83fa1ff5b3df893df5d897ce1'
         '7e9f0d31cf5c1450a62539dd44ec9b58'
         '03f318c252db3c84ccd36e8676f49bdc'
         '0d271dba38fa98e4c92908da40488b52'
         '0636ee6ea264d8add4a8dfce06ab1905'
         '7143b0c924cec3d37e21d98606fa9576'
         '3a7b847dd2c1dde2bcfaf2e52128eeb9'
         'b08337e3fb9db1908c55b4d52d069249'
         'd6fecc3edb0c21eb4032775d3152d41e'
         '9d465370fe11c260e6daab5128313d37'
         'c0393406ba60368bae7c584db378d537'
         '384ef610551ae2c244d5ec531ecbe457'
         '82766b5b152daa9782df51c73629ecf1'
         '402840a5a1571b390657f1b6fd2bcb19'
         '02f13ab0e174ed7eac0d5e588dc5b28c'
         '9ae5fd6ac4942aa4d20ce2aa32573756'
         '4b47d831015283e5935f62a3f4aaf50e'
         '922e2a387ad799ac471919f0888b0672'
         'ffb6d8276fab9435b1864ea8852e067d'
         'd430247e130753bd17f002add24a6cef'
         'b962a54d0181e00740fb9e7d2261c1f5'
         '649a2a7bed9d903d76ec845c35cad7cc'
         '76fdde19ff4ce41f3f3a764c1c9b2e48'
         '42a15a3e6095908cbd9dd1d44eb9e283'
         '162ad9c76de63b044179d8ae7c070f4f'
         'b8c988f9861e41a7c3d326f23cc8bda9'
         '175cb0bd72d4012604902504b316fd3d'
         '8d5062e95759f287fb100c3185cfabf7'
         '295d6c117b65d43f8da95b47c3a86601'
         'a254ee0a6974eb4ef9c55dfa88cb286b'
         '61df9089f7e6d9855670e2c020149a2a'
         '4aeb4a30d184b28096bcced4c0089aff'
         'a1a973667b10dc9889bda05f4c8f8a8f'
         '25eb7233e173ae53ef1365481959784c'
         'c6d1ec46dc0ea5d3c67142cf1f660068')

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar ${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.jar || return 1
    install -D -m 644 chrome.manifest ${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.manifest || return 1
  done
}
