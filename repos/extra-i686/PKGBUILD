# $Id$
# Maintainer: Giovanni Scafora <giovanni@archlinux.org> 
# Contributor: kastor <kastor@fobos.org.ar>

pkgname=libupnp
pkgver=1.6.6
pkgrel=4
pkgdesc="Portable Open Source UPnP Development Kit"
arch=('i686' 'x86_64')
url="http://pupnp.sourceforge.net/"
license=('BSD')
depends=('glibc')
makedepends=('pkgconfig')
options=('!libtool')
source=(http://downloads.sourceforge.net/sourceforge/pupnp/${pkgname}-${pkgver}.tar.bz2
        libupnp-1.6.6-patch-statevar-query.patch)
md5sums=('8918dcf7428cd119d0c8275765ff2833'
         '72d7e06f4f5fe4d167424ace730cecbf')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  patch -Np0 -i "${srcdir}/libupnp-1.6.6-patch-statevar-query.patch" || return 1
  ./configure --prefix=/usr
  make || return 1
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  make DESTDIR=${pkgdir} install || return 1
  install -Dm644 LICENSE ${pkgdir}/usr/share/licenses/custom/${pkgname}/LICENSE || return 1
}
