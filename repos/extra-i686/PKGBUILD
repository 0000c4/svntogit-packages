# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
pkgname=firefox-i18n
pkgver=3.5.1
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=(i686 x86_64)
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/as.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-BD.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-CL.xpi
        $_url/es-ES.xpi
        $_url/es-MX.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fa.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hr.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kk.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/ml.xpi
        $_url/mn.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/or.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/rm.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/ta-LK.xpi
        $_url/ta.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/vi.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('eab655a251d49e51f5cf88c87a9703cc'
         'da478b4af6f80ad8aa5b44c58ca3a9a3'
         'dfe3548b3706a518451958d8e301e11a'
         'dbf0cd26113cce2fabfbb7a850beb655'
         'ad0e1504d928a745199f0753cb32cd4b'
         '038ab999e01f8b624f82739d7dc5887c'
         '6d2486796b033931613e713141f0b9c1'
         '6ed552e8171e9bdb6db6d37bbf167a23'
         '6c2888261efe167de16520452da435ee'
         'ada315b6a9dffd2f74a9367b924d2910'
         '8d176c69057668819404c9144182d645'
         '9ebd04319f27967d49de3b9cd10fd4b7'
         '15bacaf63a08d43e2cefa82002427b97'
         'd636d165a8092f2604d4080401a27032'
         'a01e46f3dbe4b493eb9151a99c53596c'
         '639192d20a9a0ad4a3ddcd44a5c656e8'
         '8b0861b41b92c9641c798414c80b6eaf'
         'b6bf48b02e1290ce8c53bd6a49075321'
         '4a5ef5790751059d12ffed5cdc13e121'
         'e887be9e0aa2fb9d211af58cfa53904d'
         'f410050d56b7b4fd1378e6bcd4fe1e55'
         '3aa5a4a3eff272d16a570c267d6f07ad'
         'dacb30cd1124c29de36fea75382cb543'
         '1c0979bbefadc2cea5fb5868228f870d'
         '9047d61d0cded0f7eb6382d72b234b98'
         'be149c43590eee64ff185023ff34d641'
         'c44d1871c05d67df6128f3541058df7d'
         'c746402e035352cf751bce1d2b1852f9'
         'e3c02b5036b0a80171b5f48973d51204'
         'f6553082bf29b9624f9f2438cc969a5e'
         'bea6dc8091678bb2ee1a68e29576b52b'
         'e2988844088ad509c3da9643a86cbd41'
         '39243cabfef12285dbec03b2680bdf81'
         'edd13c8f71cd13810700e21ced575353'
         '9acee1e86dae1e294ad7329a5e4096e3'
         '5fffe6451509190a52ef463fa99b0354'
         '800625bf24001ad00a7080752fbc05ee'
         '867d39de020b3f8aa934e2d4e69e8762'
         '7cfef3a93dffa6fb66f6ee1e173a77fa'
         '15e65ab570e6e987be1822be7fdf65b1'
         '31075e4d5af13ebe639abb5c4b4fddcb'
         '9590c422af404ef47bec807536834dab'
         'e6aa7ef49dbb0fc9b03cd7a42816e3f3'
         '5f03ab04be4b96d773a00de65e5e4391'
         'fd97223a72bfef0722d42abab0c09dfa'
         '423edebfc808c97f62d01e8b0d5c7001'
         '584715227fd867cbef326061ad21cb46'
         '21444b1b617f52cc65096b09dec316e8'
         '3c4f6a04821344f1aec18f8d01f9b732'
         'b5b7da14bf48b82b1ce1b01016870d45'
         '618d18cd8dbbcec50e9056d467215744'
         'ffe0405f7778c5f923372bfa6dbd9dce'
         'bee3f14a819f2554b3ddaf3f62b90c74'
         'da3d86fcf70c51c5239531ac8ed9f045'
         '93bafa5e3b30194251c7db5f4783be45'
         '259b554fc6200cfd14b07f41b0919f91'
         'a185262907d2b30d6c744b3eb1cfe631'
         '7fcff40a31e33eeb8f2a48962ef86006'
         'db93ff52d9afb54e8715f832cb641696'
         'e378abea9f8ca4d2f73ebfe2324af0e6'
         'f94212abfea4aa9b370a65ffa69919d0'
         'fdef292af1c14bb09a086bf7f2389df8'
         'f56ab053dc039eb9355fef795151a384'
         '3e6e057027265b1354ef08aed16e888f'
         'b6df6cc7b37b6371826143e5eb7505b3'
         '2d14ef1209d53268f37d28747377300d'
         '291031c9e28a25e49aa2db9fc2016f67'
         '89335dfbe1eaa322a0c70a6b336771f3'
         '13ac2db51572265404f1ca0acfa1cea3'
         '39252f8d46fe2ebaefea2733020158e7'
         '6760e14194733011c278a93e03e13b77'
         '71aa4e75f9f03f7d1918e7e390b308da'
         '16dfac618cfbdde456ed086b1ad528e2'
         'f1e8e2c5c9671d37e52ea6456a40ad54')

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar ${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.jar || return 1
    install -D -m 644 chrome.manifest ${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.manifest || return 1
  done
}
