--- src/misc.c~	2009-03-13 07:33:56.000000000 +0100
+++ src/misc.c	2009-03-13 07:33:56.000000000 +0100
@@ -274,7 +274,7 @@
   struct passwd *pw;
 
   *uid = 0;
-  if (*user)
+  if (!*user)
     return FALSE;
     
   pw = getpwnam(user);
