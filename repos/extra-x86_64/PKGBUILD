# $Id$
# Maintainer: Andrea Scarpino <andrea@archlinux.org>
# Contributor: George Brooke <george+arch.aur@george-brooke.co.uk>

pkgname=telepathy-logger-qt
pkgver=0.5.1
pkgrel=1
pkgdesc="Qt bindings for telepathy logger"
arch=('i686' 'x86_64')
url='https://projects.kde.org/projects/extragear/network/telepathy/telepathy-logger-qt'
license=('GPL')
depends=('telepathy-qt' 'telepathy-logger' 'qt-gstreamer' 'boost-libs')
makedepends=('automoc4' 'cmake' 'python2' 'boost' 'doxygen')
source=("http://download.kde.org/unstable/kde-telepathy/${pkgver}/src/${pkgname}-${pkgver}.tar.bz2")
sha1sums=('d3362b146ef5c92b3a72f7f077c38ce0d641b85e')

build() {
  cd "$srcdir"
  mkdir build 
  cd build
  cmake ../${pkgname}-${pkgver} \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DPYTHON_EXECUTABLE=/usr/bin/python2
  make
}

package() {
  cd "$srcdir/build"
  make DESTDIR="$pkgdir" install
}
