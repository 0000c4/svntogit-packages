# $Id$
# Maintainer: Eric BÃ©langer <eric@archlinux.org>

pkgname=quodlibet-plugins
pkgver=2.4
pkgrel=2
pkgdesc="Various plugins for QuodLibet"
arch=('any')
url="http://code.google.com/p/quodlibet/"
license=('GPL2')
depends=('quodlibet')
optdepends=('gnome-python: for "Automatic Masking" and "View in Nautilus" plugins' 
            'python2-dbus: for "DBus Multimedia Keys", "Gajim Status Message" and "Notify" plugins' 
            'cddb-py: for "CDDB Lookup" plugin' 
            'python-musicbrainz2: for "MusicBrainz Lookup" plugin' 
            'lastfmsubmitd: for "Last.fm Submission" plugin'
            'python2-pyinotify: for "Automatic library update" plugin')
source=(http://quodlibet.googlecode.com/files/${pkgname}-${pkgver}.tar.gz)
sha1sums=('761fe89ed200daf602c1b0685a664a438c6de3bb')

package() {
  cd "${srcdir}/$pkgname-$pkgver"
  sed -i 's#env python#env python2#' songsmenu/{replaygain.py,_subprocobj.py}
  install -d "${pkgdir}/usr/lib/python2.7/site-packages/quodlibet/plugins"
  cp -r editing events playorder songsmenu "${pkgdir}/usr/lib/python2.7/site-packages/quodlibet/plugins"
}
