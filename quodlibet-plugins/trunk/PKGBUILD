# $Id$
# Maintainer: Eric BÃ©langer <eric@archlinux.org>
# Contributor: Meir Kriheli <meir@mksoft.co.il>

pkgname=quodlibet-plugins
pkgver=2.3.1
pkgrel=1
pkgdesc="Various plugins for QuodLibet"
arch=('any')
url="http://code.google.com/p/quodlibet/"
license=('GPL2')
depends=('quodlibet')
optdepends=('gnome-python: for "Automatic Masking" and "View in Nautilus" plugins' 
            'dbus-python: for "DBus Multimedia Keys", "Gajim Status Message" and "Notify" plugins' 
            'cddb-py: for "CDDB Lookup" plugin' 
            'python-musicbrainz2: for "MusicBrainz Lookup" plugin' 
            'lastfmsubmitd: for "Last.fm Submission" plugin')
source=(http://quodlibet.googlecode.com/files/${pkgname}-${pkgver}.tar.gz)
md5sums=('d9bfd531c2bc7bdd93eff970ba0b9177')
sha1sums=('05fbadfe6145634b2481d127f07554c83e515803')

package() {
  cd "${srcdir}/$pkgname-$pkgver"
  sed -i 's#env python#env python2#' songsmenu/{replaygain.py,_subprocobj.py}
  install -d "${pkgdir}/usr/lib/python2.7/site-packages/quodlibet/plugins"
  cp -r editing events playorder songsmenu "${pkgdir}/usr/lib/python2.7/site-packages/quodlibet/plugins"
}
