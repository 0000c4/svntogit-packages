# $Id: PKGBUILD 26309 2009-02-05 19:48:40Z giovanni $
# Maintainer: Andrea Scarpino <andrea@archlinux.org>
# Contributor: Giovanni Scafora <giovanni@archlinux.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>

pkgname=kbluetooth
pkgver=4.0.4RC2
_pkgver=RC2
pkgrel=1
pkgdesc="A collection of Bluetooth utilities and modules for KDE based on BlueZ"
arch=('i686' 'x86_64')
url="http://www.kde-apps.org/content/show.php/kbluetooth?content=112110"
license=('GPL2')
depends=('kdebase-workspace>=4.3.0' 'bluez>=4.55' 'obex-data-server>=0.4.4')
makedepends=('pkgconfig' 'cmake' 'automoc4' 'perl')
optdepends=('python')
replaces=('kdebluetooth')
conflicts=('kdebluetooth')
install=kbluetooth.install
source=(http://www.kde-apps.org/CONTENT/content-files/112110-${pkgname}-${_pkgver}.tar.bz2)
md5sums=('e0883dd44ff439e8adf7d6d9bc6306d8')

build() {
  cd ${srcdir}
  mkdir build
  cd build
  cmake ../${pkgname}-${_pkgver} \
        -DCMAKE_BUILD_TYPE=Release \
        -DCMAKE_INSTALL_PREFIX=/usr
  make || return 1
  make DESTDIR=${pkgdir} install
}
