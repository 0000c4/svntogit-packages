# $Id$
# Maintainer: damir <damir@archlinux.org>
# Contributor: Ben <ben@benmazer.net>

pkgname=fox
pkgver=1.6.35
pkgrel=1
pkgdesc="Free Objects for X: GUI Toolkit for C++"
arch=("i686" "x86_64")
url="http://www.fox-toolkit.org/"
license=('LGPL' 'custom')
depends=('bzip2' 'libcups' 'libxcursor' 'libxft' 'libxrandr' 'mesa')
options=('!libtool')
source=("http://www.fox-toolkit.org/ftp/$pkgname-$pkgver.tar.gz")
md5sums=('530876a9b7eacb495bd034370cac7d4b')

build() {
  cd $startdir/src/$pkgname-$pkgver

  CPPFLAGS="$CPPFLAGS -I/usr/include/freetype2"

  ./configure   --prefix=/usr \
                --enable-release \
                --with-xft=yes \
                --enable-cups \
                --with-opengl=yes
  make || return 1
  make DESTDIR=$startdir/pkg/ install

  cd $startdir/src/$pkgname-$pkgver/tests
  make ControlPanel || return 1
  cp $startdir/src/$pkgname-$pkgver/tests/.libs/ControlPanel $startdir/pkg/usr/bin/
  install -D -m644 ../LICENSE_ADDENDUM $startdir/pkg/usr/share/licenses/$pkgname/LICENSE_ADDENDUM
}
