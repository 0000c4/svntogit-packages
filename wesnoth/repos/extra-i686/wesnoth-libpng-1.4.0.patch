--- wesnoth-1.6.5/src/tools/exploder_utils.cpp~	2010-01-22 11:20:31.000000000 +0100
+++ wesnoth-1.6.5/src/tools/exploder_utils.cpp	2010-01-22 11:20:31.000000000 +0100
@@ -174,7 +174,7 @@
 	//TODO: review whether providing NULL error handlers is something
 	//sensible
 	png_struct* png_ptr = png_create_write_struct
-		(PNG_LIBPNG_VER_STRING, (png_voidp)png_voidp_NULL,
+		(PNG_LIBPNG_VER_STRING, (png_voidp)NULL,
 		 png_error_ptr_NULL, png_error_ptr_NULL);
 	if(!png_ptr)
 		throw exploder_failure("Unable to initialize the png write structure");
--- wesnoth-1.6.5/src/tools/exploder_utils.cpp~	2010-01-22 11:24:11.000000000 +0100
+++ wesnoth-1.6.5/src/tools/exploder_utils.cpp	2010-01-22 11:24:11.000000000 +0100
@@ -175,7 +175,7 @@
 	//sensible
 	png_struct* png_ptr = png_create_write_struct
 		(PNG_LIBPNG_VER_STRING, (png_voidp)NULL,
-		 png_error_ptr_NULL, png_error_ptr_NULL);
+		 NULL, NULL);
 	if(!png_ptr)
 		throw exploder_failure("Unable to initialize the png write structure");
 
