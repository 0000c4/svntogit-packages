# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-i18n
pkgver=36.0.3
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')
depends=("firefox>=$pkgver")
makedepends=('zip' 'unzip')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'az     "Azerbaijani"'
  'be     "Belarusian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'bn-IN  "Bengali (India)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'dsb    "Lower Sorbian"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gu-IN  "Gujarati (India)"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hsb    "Upper Sorbian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'ms     "Malay"'
  'nb-NO  "Norwegian (Bokm√•l)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi (India)"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-i18n-${_locale,,}

  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('8221dcc1f9872649f7e77695bfeb4f98'
         'f0a1311149803254400807d7688c7413'
         '47c52a47471007f4dbc9bc41f104e67b'
         '9e1a02007b957e8cfe444c5c8f9860c8'
         '52ad080d9086590276cd7f2ce6435aa4'
         '7788e3756d4fa04f5ca4e3ca0268ba85'
         'f3ec353c6292a48a5d11c296f3878ab7'
         'd625287f13cdbbf26644b4f3c50b50fa'
         '80942532f15030a13f86cf723f03eecb'
         'ade6ca977ff3096bdb53ab02d127f493'
         'a9f142d659a0c3999f4feecae5562cc9'
         'c721b98e7832516b13d73bddcec30e02'
         '2e0e49411fb9d772b52d720d1e642b45'
         '31b0fae7443b1e6e884395d032746c6f'
         '63513b7c4105a64ee4658587c57cb28b'
         'e7cab3c8e8ee3d8ffe2e4fd0c3ab67d3'
         'eeea3f9c12b79bccd8ba469af771f006'
         'fd15ef29cab4d6d7e2798999c2dd9206'
         '6df7d321964f4ddf1a48cc954b957f0f'
         '2808a6af80997e13cb6741a17426a083'
         '77203171ea9d216c51fe8ee7930aea2a'
         '0a9641e5fbbeae45deb589b11e0b6aff'
         'e28738227a4d2ba8c040bd677d85d141'
         '5e89f7cde11b26789362566ce345e81c'
         '0d4fa268d90ca88c1a92c373462a095a'
         '7dfe9c0591ccfa55d3a13c3735d3a43f'
         '1264f96a492706715871b790428ca3eb'
         '302876b8e393b352aeb4d07b95a14ba9'
         '5058a165510f2c1d374a0ca46ffcbb26'
         'dae5b940e6487a9808bf5e8198e08f0e'
         'd8edf051da1e5a8e627e8e88dac935e4'
         '69ce5da3efcd6bfc08be462b7b92f21d'
         '07f5223156ba2f19c6cbcc1b07145aba'
         'e22b0fbf7e32a5894ad533739e6cc3bb'
         'd5d05f6ccd34c7f1fcba4817db78afde'
         '8d62123acad14dcd2a09fe2a5536f305'
         '0023821f90b7ed1b8898f8917a8ffb9e'
         'eac6330a417e4f455df92083d5ddb884'
         'dba1fe770f7b534ce54b0ab3404db0a8'
         'cb7d322103a6ff5482a90b210bfeaf49'
         '998d159109f2f3f4cc846d3a47f73e80'
         '1d6aaf81eca03628f16da792da520376'
         '13d107ad840f1d477c68e2bb7d72e2d1'
         'c9d03f4b8d4e6f0bc234da2a6e4874dd'
         '8e506997241e023940e3785cdf79ff8c'
         'ed36b3a5eec5226d990795ebffadc3d3'
         'e082d3d9d2eacdb080a3b23c07e688eb'
         'abc46ca2739fd6b69df31309be70ae6c'
         'b43e69d89c0d8d8653827e12883e89bc'
         'c185bf1c38426f547048057d063a7b86'
         '3cfeaee9a59ced64f8dc8408f72e930a'
         '64634b895e134a6a71ff0e63b89a1d70'
         'a90e4ea00468d84418b08f6d03f98221'
         'd8dbaeafd8a3f9e56f8692b43471c24c'
         '553f12fa8e17c04dbe6e4bb7f69243ac'
         'c5097921214bdcc90d27c86ef0090872'
         '6a4a32b637767fb46a5a657596943d1b'
         '5aa7bae51219119337b595cab9bd0c9a'
         '921cfb137021a5e578cc713426090607'
         '424b1a17eee95f5fd792e79c2cc1a7f5'
         'ff3e6c7bf2bfd83f97a59ccbcfeeeb28'
         '6de905cc2182d2bd0bb003f1e40bcd98'
         '98a08c9ed94ad01b2d1d2bd7d6c74f1b'
         'bcbb2b0ed8d7ec9614e8374c2e6f8c19'
         '099962cec413f4ced64bde0df3c35197'
         '4a2692e4e03a32f73a7f18f8b3607fac'
         'be96a713aa9b7eb889df8471684486ba'
         '59a4380311baaa5fd10b8701db656805'
         '5bd5eaa74d8c87176dad85c875ca4061'
         'c857ee554ec246e19120a2ef2475daa9'
         'ac3c40bc279a5baa41bba918dc815cff'
         'a2abe77715ad6dd727f6819ddeba73b5'
         'ffce416cfda59486d1073a35bc02cb48'
         '1e1493fef26087f160c13f37bfb192fc'
         'f29020e6eb679e45ff948e34489c452d'
         '5d564de961d07d06e00d75bd13d4e932'
         'b2a789b6efef72b1189c782a4878a1df'
         'ea925edd5f26a046a40e32080f5d40a2'
         'c40a2c35ac66d18c46639467c1dda591'
         '3ac7a73ab1adf0875f232639dd8180c6'
         '53335740c8e135a29645349cf50fc2a2'
         '2db65c152c509891aca219b14529a678'
         'c979c7c19be87be6c13dbe4e24801e6b'
         '5c0b43421a5570c2f28230d3e2bb8f98'
         '54c5c975b3e4169a98a6d6ab6bbe6b2c'
         '7605ae1a2ba297ef6cf1554932f96aac'
         '67b65adfa8d7cdac8627d7fe808e94d2'
         '94d196e1a4636da7ce2c819d84b66920'
         'b6b5c6ce43a30884c0d4137ae55357ed')
