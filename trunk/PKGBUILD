# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>

pkgname=firefox-i18n
pkgver=3.5.6
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=('any')
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/as.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-BD.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-CL.xpi
        $_url/es-ES.xpi
        $_url/es-MX.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fa.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hr.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kk.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/ml.xpi
        $_url/mn.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/or.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/rm.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/ta-LK.xpi
        $_url/ta.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/vi.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('dd5474ff1198cfe3152948d12dfe9811'
         'e752f42e1447da423ed36daed4469cd2'
         '07e6247ad4be31fd8563c031e3d81144'
         '1110212bdf58fa0f300b32177d6cc5b6'
         '03bdb0f0e30e96fe5fefedcd14b2c859'
         '66f138971abb56a9ef685880ebb1f880'
         '47b3fbbab188fa68883e4094ea16cc0b'
         '4dff14b667f0d41461b832b9a93b8277'
         'e7b2eb192634d6b96101b8b6eed63718'
         'f374c6d04585dc193000cc78ebe2c384'
         'b4bd33190a26a3ccb4762177a702be4a'
         'd1d92c549f5ea00d059285a85efcf7d9'
         'ce665fbc29999030ea2911053ac5b7f0'
         '90cd54ed932ce5f76b16aac98c0209c1'
         'b4859539584f0d19ce4d6293be3075ca'
         '506faaee7634e9f6eae52dda67cde74f'
         'd805639b3aea8d8e1b9f5fddeb8d22b4'
         'd606b299317f6680a15ec22ea103ab73'
         '049683479ab9fd95284282ce0e3b0daf'
         'fbd2e96af3c4a669f4946bbd772aaec0'
         'cae25611d4d05a529aa45c2774151747'
         'a4cb7761013dca5ed9d7a3c6558f9f54'
         'a3ed1e6ef0137d05bb226d6a1cedbab6'
         'e3606f529881c4e2589102404e9a2270'
         'bdb56f437fa02bcb621e1676e46c8230'
         '6602d431df5a11c014cd3bea665e0681'
         'f91ba6a8ca9a042eabc5ce90a55d5e09'
         'cf4febc6d2353027a36dd1cf88ce75a2'
         '45d46e937658e707f7df902a9c1d300e'
         '2794e928e0855d20d4629e15d450130e'
         '31c64b6defb904451255bde7fb850a96'
         '45f560050b6f2e40c882f3ecc0972753'
         '5533d433c636b1f05e43170a4de45363'
         '660b4e6f90e1b21cd576173b44ab9095'
         'cd71c0f3723da0c9f4ea293ac8e68baa'
         'b281d0404427a0fd11c3e6b17033c0d0'
         '8d53ac4247072007cf3554a626fe56e4'
         '4b77414041d3c76a7da2c41db0410173'
         'f38395be32f0a0786ab155ec49ebe047'
         '822749d1b630c85d12c82e1975f5f5bc'
         'd62078d9a1a5608fba72c601fa9e7a5a'
         'ae0f0f366c2a560c85760bb8aa9af099'
         '1acec99e87434cad4dfd164bd86de7e1'
         '7d29a68cac3ab609665e61cd63799744'
         '8bfded5a425871286be4d8ab7e2e383d'
         '331af8491e5a4ba8bfd2f7455ce209c5'
         '2c6e28ea043dc40bd7f84dd2818c9a3d'
         '76ee23b5ddcd2d838b5fa7ebecee0ae5'
         '9c63e09b1d61eacda5203c4d90ad8a55'
         '71413b21e9d85e03b83b7a4ef49ffb38'
         '2b9629b7d7469ee2d0861cf956ff4ab9'
         '157cac43c00b7ba89bc76601f736c414'
         'de146ba3f5a6cdabe1ee45dbdab53066'
         '93789f91f0698a7b3f2fff21b59fd815'
         '2eb907c5f4b95e4fae5dfe0f9e3fb15b'
         '0321d88eb86996c09dbcd956cf3af344'
         '5aa1e94de045f84c07f00410df0b4c85'
         'ce669a85cf985fe9744cdf304238f291'
         '2855308133fbfdc2500aafd49120ddd1'
         '58421b345fcda27ceff77401d8f39a43'
         'acc62a011e80f2be97bf126ff2429ca5'
         '0b7978a1abe4d433a741b58e60f10edd'
         '2f70be4ed776941931a12a2866764915'
         '8ad23e14d08347407f2f05d374443154'
         '4e4f53ae5624605ad744eb4bae79d391'
         '2a6d9fe33abe6fcd2f6838aa10816b9b'
         'b9ebf0934a070e724dddaf67e957fedc'
         'bf182162f1cf65688a8078dfc0cd91de'
         '53eb10075d904c21a6789ccb61930141'
         '8f222f488a1144955085c5fcb1668301'
         'ec9d9948d578f194d302f2f942b4e3e6'
         '39d4f83c4cc744699d348b40d4448e35'
         'bf00396b7a55e3f05312b7ba3ec23352'
         '710727f5e8cbd76f232e213f77c9a701')

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.jar" || return 1
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.manifest" || return 1
  done
}
