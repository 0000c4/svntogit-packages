# Maintainer: Felix Yan <felixonmars@archlinux.org>
# Contributor: hauptmech, figo.zhang, chubtuff, lubosz
#
# Matlab bindings are not built by default to reduce dependencies.

pkgname=gl2ps
pkgver=1.4.1
pkgrel=1
pkgdesc="an OpenGL to PostScript printing library"
arch=('x86_64')
url='https://geuz.org/gl2ps/'
license=('LGPL')
depends=('libpng' 'libgl')
makedepends=('cmake' 'texlive-core')
source=("https://geuz.org/gl2ps/src/gl2ps-${pkgver}.tgz")
sha512sums=('bd6786578d1c19e63b64d110c93f4473babc0f23392115a4a6537df563569a461e242c079a25a6bbb4a3a7713c10291d7cc7ed5672bc1d0ee596309dfbfb3f80')

prepare() {
  mkdir build
}

build() {
  cd build
  cmake ../gl2ps-$pkgver \
    -DCMAKE_BUILD_TYPE=Release \
    -DCMAKE_INSTALL_PREFIX=/usr \
    -DCMAKE_EXE_LINKER_FLAGS=-lm
  make
}

package() {
  cd build
  make DESTDIR="$pkgdir/" install
}

