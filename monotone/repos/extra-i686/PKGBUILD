# $Id$
# Maintainer: Douglas Soares de Andrade <douglas@archlinux.org>
# Contributor: Jeff 'codemac' Mickey <jeff@archlinux.org>
# Contributor: Dan McGee <dpmcgee@gmail.com>

pkgname=monotone
pkgver=0.45
pkgrel=1
pkgdesc="A modern distributed version control system, like hg, darcs, or git"
arch=('i686' 'x86_64')
url="http://www.monotone.ca"
license=("GPL")
depends=('botan' 'pcre' 'lua' 'sqlite3' 'libidn' 'zlib')
makedepends=('boost')
install=monotone.install
source=(http://www.monotone.ca/downloads/$pkgver/$pkgname-$pkgver.tar.gz)
md5sums=('bd37c3d75e3fd1974a17f556499b42ab')
sha1sums=('84bd7ab5f7b1bfe98028f5105e3dbcd82c809e51')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  ./configure --prefix=/usr --sysconfdir=/etc || return 1
  make || return 1
  make DESTDIR="$pkgdir" install || return 1

  install -D -m644 contrib/monotone.bash_completion "$pkgdir/etc/bash_completion.d/monotone"
  install -D -m644 contrib/monotone.zsh_completion "$pkgdir/usr/share/zsh/site-functions/monotone"
}
