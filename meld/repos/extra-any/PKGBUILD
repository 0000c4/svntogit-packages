# $Id$
# Contributor: Douglas Soares de Andrade <douglas@archlinux.org>
# Maintainer: Daniel J Griffiths <ghost1227@archlinux.us>

pkgname=meld
pkgver=1.6.1
pkgrel=1
pkgdesc='Visual diff and merge tool'
arch=('any')
url='http://meld.sourceforge.net/'
license=('GPL')
depends=('pygtk')
makedepends=('intltool' 'gnome-doc-utils')
optdepends=('pygtksourceview2: syntax highlighting'
            'gnome-python: gnome integration')
install=meld.install
source=(http://ftp.gnome.org/pub/gnome/sources/$pkgname/${pkgver%.*}/$pkgname-$pkgver.tar.xz)
sha256sums=('de9c4d526c7489b6e6c5772b709aea4b77e1b3d1b6cd1701fc1c17ea81733a03')

build() {
    cd $pkgname-$pkgver
    make PYTHON=/usr/bin/python2 prefix=/usr
}

package() {
    cd $pkgname-$pkgver
    make PYTHON=/usr/bin/python2 prefix=/usr DESTDIR="$pkgdir" install
    sed -i -e 's#env python#env python2#' "$pkgdir/usr/bin/meld"
}
