--- src/network/kernel/qhostinfo_unix.cpp	2008-04-28 13:11:19.000000000 +0000
+++ src/network/kernel/qhostinfo_unix.cpp.new	2008-07-22 12:40:32.000000000 +0000
@@ -167,6 +167,7 @@
     struct addrinfo hints;
     memset(&hints, 0, sizeof(hints));
     hints.ai_family = PF_UNSPEC;
+    hints.ai_flags = AI_ADDRCONFIG;
 
     int result = getaddrinfo(hostName.toLatin1().constData(), 0, &hints, &res);
     if (result == 0) {
