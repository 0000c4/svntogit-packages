# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
pkgname=firefox-i18n
pkgver=3.5.4
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=('any')
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/as.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-BD.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-CL.xpi
        $_url/es-ES.xpi
        $_url/es-MX.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fa.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hr.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kk.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/ml.xpi
        $_url/mn.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/or.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/rm.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/ta-LK.xpi
        $_url/ta.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/vi.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('a9e4c5333f46ad42d345ed7aa8613531'
         '7ebdc360ae81034ee6f88e95c418ebb5'
         '1c70e5879bde2c4ce44da41f9fe9153d'
         '806908f5832a9b056a33de47efeefca9'
         '4ae86049c722a91a7c698a54bcb0b59c'
         '4a39fea76da7c72ee55807e14509f2ee'
         'ad5e496f413aa00135ec2d4ca4484249'
         'ea2c991fc880e9e14a15f08d3fdefe9c'
         '1b7e6be0da396d83042708a623be7ceb'
         'c44f147868e90569db6bebd6d66905f9'
         'd257cc09b448cc30114785cb0a3ed0ad'
         'b6a7d04cab51e1e1e6abc6d10da58fd1'
         '6a21d98aa10ae8cd31a2e096a0e19484'
         '082512b18edbf73b3669be11182edf95'
         '4366a360a825621d410b2a9b86ccd118'
         'be44a86791b6541907744cb6b3c90cd7'
         'cd5c6f1103baa545f66de8dc7b349f3e'
         '4662e78621b5318f84bb26a8ceaeb462'
         'dafb3d71c6c8075df425caccecdaa2ea'
         'c05774051c98e88b87db6ec8d7f982b3'
         'a732d2b015ba9cfdbd26e5389137782b'
         '5e599a01c3d8ee2cecd0e685e7f34805'
         'e58f50fb3f08fccb2a5e767e68ff14d1'
         'e7cbb97c5f42f3ea23b99b0244e8e0ce'
         '1d58fdda0727d1f8ad8997959a9755f6'
         '87e3de32fe480cd48d4709d5d837685a'
         '6b42293ce16550bc73828c20da6265e7'
         '68d4ab12a9efd0f632bc31f809741558'
         '3614b615d6b213f26dcff0fd24001d09'
         'b96aae4c5853c818397ce6eda6dfcba4'
         '48e1356b0052d7f92d042e7e790d4d08'
         '98d153cab673ab54123d6eebf636c081'
         '8411403e5a89d6c7d01f50e69d90af26'
         '345e080ef3439886a466da82e4a56757'
         '7d1a96e8fd1cc04280bf330bd7875174'
         '82df72f789c431aaffe379c507d2f190'
         '35b1bd992a8631d72bc96cc69ba09917'
         'f59aa0df1dec155d02791bf9aab90b1d'
         '185640fab6235003ca21b5ebcd6ae6a7'
         '8c075e8da62e648b5c694dcbb85f88a9'
         '06810c1007d5833274ca8daaa60874e1'
         '97e0511b89c7142e5c367d21aaeb1a9a'
         '7726535f1c66e9c79c3105e77410b2a5'
         '5efeb7fc46135c6a8b0200e8f9a1ed56'
         '5bc876b9a230515fe3a3eccad836ff17'
         '33d560de5411646695226c24429bebeb'
         'd574f0e3f5357774770e80ac21b7f2f5'
         '4905846e444705427b061e4b631ec2fe'
         'b3028e4e1a9b7506e9a39dd757cd9155'
         '6fd2e84270c3966a349692b5b70ee2ad'
         '04d7a06e02f745921df39293f0ae2b64'
         '0f04ed7ed1eb524129145ecf54172f07'
         '02d2a8497d15d8fc7339a1b6ace65476'
         'a0177aabdcfb5846aff8e368d8af3e42'
         '881f4085c751435d25e416af215da57e'
         'bbb0954d8f7242e6f2c607d3e8e27b7f'
         '981d98ba4f6cf7e4a82d6fce1c7f7fc5'
         '6b436226889e002e29aa957c3d6ef016'
         '3a6a8de86b7f7629b6482f5cbf4f8030'
         '62a22265ee66b3c6b5ba38ec1d478a57'
         'c35ae607d7b293b5351b6f4191614748'
         '70b3d8933ee9246337df218846adb802'
         'c4d952b3688784572f4257ab0c5a2132'
         'cc6bbad31667b78c67d38ac62a674ecc'
         '5c0eb42bb536a303ae53e2726ba25f98'
         '2354dea79e91a793f46b7e0346823cb1'
         '9d7c8cb77d6405570fe27d82b34e541e'
         '05b6a7184791077e6ec7731ca528c7d2'
         'eda2121a578229bc16b4f24e28e8518e'
         '85810f49d843be288a564f2152dec84f'
         '25a8503aedfcf03ea4f273a68c654344'
         '694adfa84164fb21c4768bdcc98b9060'
         '54b0a326ee55509278cca32f951274f5'
         'cd791f428047546021616c9319011b14')

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.jar" || return 1
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.manifest" || return 1
  done
}
