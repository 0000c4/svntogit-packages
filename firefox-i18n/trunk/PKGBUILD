# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>

pkgname=firefox-i18n
pkgver=3.6.4
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=('any')
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/as.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-BD.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-CL.xpi
        $_url/es-ES.xpi
        $_url/es-MX.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fa.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hr.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kk.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/ml.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/or.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/rm.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/ta-LK.xpi
        $_url/ta.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/vi.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('22aaeb65c0226e34174f8167fdf406a1'
         '2dd800a9226fea4d5f3bcaa940853f5a'
         'aa26ec1688090b30c7c9d73e23ef9525'
         'dc8f71a76d43b5a3b4c0c3789bbe6268'
         '9fafcb751bd18f93e7ca697ef8a1087b'
         '8379ba79735a66dfd102c2a12992fc7f'
         '1c0a625fc1d4e30bfbc7f4c8408e532f'
         '138b5c9d5f5f8e4f5a52d964bcda2f0e'
         'cc6729b3e5fd1aff8f6b1e6ca8e72c62'
         '585ede56f86e36bf8300c9f2848a9eac'
         '8d32fb5e89420a56067e72e9843aa9f5'
         '1a744bae95b72ce60f36514cb1e4081f'
         '022262ca04e272a57fff11bc3d81969f'
         'f544ee28dc296bb09c8c0469675435a4'
         '559759f2282227e0c93a89774f06390d'
         '437346469b4aee60e83b98a89e772ac3'
         '37e93e7df3be2298f4032bba5ed4e37e'
         'f49fd44a591d21588ff9802c350a4a50'
         '217bfa8ce854492a55cc8e0db98f3838'
         'b0b1b015d0812629075b9d028191d73c'
         'ab7f8fe90e062ed40b102052970ed9fb'
         'd65675e4a44d718a13454919272f7f6d'
         'ad2bcaebb9197ab2ce640e5cbd0f4521'
         '45b48f176b363be4bdbf502c56fa7cc9'
         'f79cb9e3ad9210c58fb6059a3d783bc7'
         '90dff687a03716844afd25d4707e55f6'
         '06277c5069ce8ac2ef47752c8348cc00'
         '923402d17fc2c5b3e09530fae7fa5d56'
         '7a29dcc57dd0d3456cfd7780d5c5936a'
         'b57b37b0370f58f7afcfde2e9c40b908'
         '301909f212b7d6fbdf41cfa81f122c7f'
         '86e2e529c9cb29b310e0ef1983ab28eb'
         'e13dac3a1eb7bf3ee6c09dc13a131058'
         '347d2be354c881da82d3de9d85f281c4'
         '765e60780baeb1b33100f02c30d97e08'
         'c06585cdce4300021673c81931c7ee91'
         '6d2f981b9eb863bad6c7c2f9b3bd1ab8'
         'edbd1bf9710fb7d77f2d13ade451df1f'
         'd49674ad69a32b820d626a778f8697db'
         'ec296a56695f34d71c3ee4fb9f408c52'
         '581d668bb15f163b298a00d8f28490ba'
         '5fc0e62d7f12487e992809039b1f6d4f'
         '37d927b3b53e3d97301edab2d880cec2'
         'e7c8186c4714ec3600d227d728959b3a'
         'fab60eeff6f9286a4c78ee76188aff8b'
         '73b3029c6bbfb6ee33b18698240ef0c4'
         '72970498fcc70a4c4c3b4c29a741c941'
         'd6156741a4b1f962ac847d2336c20c87'
         '761f4d916ffc6febdd2c813896f85a11'
         'a8c0337108c291e492b0cacc687fc5f9'
         'f2300dc0ffe6c8c008ea198f7252d914'
         '79676ea89176a93ab14910109d717d34'
         'b21629ee6ad440db4b98bb3efed15d8e'
         '4e2f74fe14f41c13f208481176c8350e'
         '37094501f3565a1a72cb338dce2af0cd'
         '07d152671a49be7cb3b98c9155abe9d5'
         '719319e9551dcb7b6bf2c7dfb40702f5'
         '4b61e956bb980bbd0862b2e27ae4d5ef'
         'bb4b9e650a84e6f8967f05455652b7fd'
         '8f46443746d1c59b6c379aeae9824037'
         'f77a0a6d985048dd6817d26d82bebf3c'
         '5eb7498a2e7a436ce5ce2bda70162107'
         '11ce88007581d4fa3f3ebfeb7a22951f'
         'ea1f73f761b26281121d83e02bdf9893'
         'b7842c3c39ed3f41da25349651f90227'
         '07758711ab308c0881e9e228c0d427c0'
         '361a3b92c641667aad07b0da651e5beb'
         '12b41807b989625b851597edb2e6e08b'
         'bc78b09957e5c69b63e6ccc8ff3d5169'
         '36a94a596db7583f5ed222ec5431fdfb'
         'd45552dd0c8bbef1b95253dfb7024bec'
         '7b38ea6ffed6db9d487ab278f06c1511'
         '9d14a6a8aacb0e032fc23bc96facafef')
build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile}
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/firefox-3.6/chrome/${lang}.jar"
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/firefox-3.6/chrome/${lang}.manifest"
  done
}
