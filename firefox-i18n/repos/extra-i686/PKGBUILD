# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
pkgname=firefox-i18n
pkgver=3.0.10
pkgrel=1
_languages=af,ar,be,bg,bn-IN,ca,cs,cy,da,de,el,en-GB,eo,es-AR,es-ES,et,eu,fi,fr,fy-NL,ga-IE,gl,gu-IN,he,hi-IN,hu,id,is,it,ja,ka,kn,ko,ku,lt,lv,mk,mn,mr,nb-NO,nl,nn-NO,oc,pa-IN,pl,pt-BR,pt-PT,ro,ru,si,sk,sl,sq,sr,sv-SE,te,th,tr,uk,zh-CN,zh-TW
pkgdesc="Language packs for Firefox"
arch=(i686 x86_64)
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
eval conflicts=(mozilla-firefox-i18n mozilla-firefox-{${_languages}} firefox-{${_languages}})
makedepends=('unzip')
eval source=(ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/{${_languages}}.xpi)

md5sums=('6e426cadcdfad0d83ebbcd34b0776f99'
         'cef03478c2b810e8132fd309fcb47749'
         'ed31f15fa1270b6569c1f87e3c990ef6'
         'c8f10c218a469b4a5bdc7bc761178774'
         'f3b1acb080d16d6f3bf03c49cd6ce3d6'
         '1d4648cdb13d0ad24c9b1d1337800bee'
         '32466b484c7263646a442f69a184a265'
         '6a6e3cc87ea0c06405c6aa6a8500e9f0'
         'd387c9e250746ce86a56a98094992de5'
         '36554c7e8dff07bf93620de348928091'
         '0d57719157ca684053f1a537afc5fab0'
         'af38a60f15ace681568372737a6a88ea'
         'c07fdabdb7641753a54b12b5d5e62cbb'
         '254d6631ea6cadca6e830a372ae13f55'
         '48a33d233cb8603f630984ebf59b61c0'
         'b7c6ffad3ecbb79f762497fdd644a4d1'
         '0892636869f24d22d4987d1af2c26d23'
         '24afb23eeb51bf6e125667e2e1346589'
         'd8656a5a3caa798cd7ba93e3733fa421'
         'e7221ffb252bd0be69e62a54c59e2f7a'
         '6988700c0a5743b921b6a521350543c5'
         'c69d0efe50a0647b54e9d2d238bb5c81'
         '1bd35b086901f116b66ccb37f2ed3402'
         '57f6652a909784c1a2ca029daa1f5f9e'
         '8aa44f7b7712619fce6630dc2c235551'
         '0c1cd1a0489abbfabbdcff163dadee18'
         'e2108b145eba1e0825df43c1c53fba2b'
         'cef220f59b998492c2b7e0b5d6ec15bb'
         '71c5cd85353e4149bc3af6f0e1460c1b'
         '68645c6faf4c5380d4990d909627e4be'
         'b5bda04acfef655cee09e30b5b0ffc86'
         '511ae67f4c5f3d36dbcb7e55156b577f'
         'c59cf61f5663a4795fbad14ecfe844bb'
         '0f824ec6f2f0789687ad7f50b2308052'
         '4831f9944206a7afabeff13f8611e937'
         'd5d5f936101e839440018edc3abc303f'
         '382df3b3906497969336e3deac5b410b'
         'd7db289339f8f20abbb9197b7fdb7f94'
         '6fb6cec43edb16a16a5652c2893a2746'
         '49f15e3e66a06a920546fa8329dda79b'
         'de794b752034760945cf4d1da335879c'
         '9d7be083bc7534628c1d0ddf3cb213cc'
         'dc12c40407f9acbd8b288287a1bfd452'
         '6c5898c27c125c7c5a095ec44b667b89'
         'b4b029edee6f82cb80ebbae12cf98b9e'
         'a3550360c48a7972fc8d5720ae8656c7'
         'e5e0e7657c9708046482a2ceeb56390b'
         '18e2cdec7614933cbc9511eecf2be3ff'
         'f7e775424b2be4715284a82dae70d4e6'
         '48c61ff1e45a4d9c1ef88bfa39ae965c'
         'e5045d0cecbc5f6804fa4dd96a41a57d'
         '3d40ac2e4a93192fa6ca4bf11ecb8676'
         'c3876894858434a83b753586f044977d'
         '138fbc570f308276ee47961543d4d2e9'
         'a84619196551f6b6d7ce932e33ef5b66'
         'ada0460d6af31963fb35155ff03057cd'
         '777f722aeff3daa4f23213ca33eba034'
         '87d1c21856b2a374dea3d8e9e9bd9cee'
         '94ae5dc88f1593c9ed36d52401263e65'
         '8ce4c94e2413d801d559b4a279134d43'
         '9ccc9dca9fa5a932b1ee5add7665a58b')

build() {
  cd ${startdir}/src
  for lang in $(echo "${_languages}" | sed 's|,| |g'); do
    unzip -o ${lang}.xpi
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar ${pkgdir}/usr/lib/firefox-3.0/chrome/${lang}.jar || return 1
    install -D -m 644 chrome.manifest ${pkgdir}/usr/lib/firefox-3.0/chrome/${lang}.manifest || return 1
  done
}
