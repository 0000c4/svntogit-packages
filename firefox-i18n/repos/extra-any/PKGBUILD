# $Id$
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>

pkgname=firefox-i18n
pkgver=3.5.7
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=('any')
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/as.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-BD.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-CL.xpi
        $_url/es-ES.xpi
        $_url/es-MX.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fa.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hr.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kk.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/ml.xpi
        $_url/mn.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/or.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/rm.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/ta-LK.xpi
        $_url/ta.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/vi.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('4a530310eab3e68f07acb324fdc8035b'
         'f566e83853467083d8e20852748060bb'
         '97fcc5162d670d18d3182a8bb2b1ba4f'
         'e15210fc5ea1c00658f391d6efeb8625'
         '43d60dc52a9b6ff3a1a91c30912a28fa'
         'a6446703863705a637006479c14b8a9b'
         '0b0417b17c853b1de93993126b710f2a'
         'b62d299794b3ee86a59f078bbba2e8a5'
         'a1b652fa1209a2fc8889d213db99e3b4'
         'a7b0484bd04bf44d3639456539764850'
         '0d13bf5e401a96bdf882e768487cabd3'
         'aec1ebfa49ad36615533405ab5de7152'
         'e19f0fc5df18c7e3993f1753b045da8b'
         'febaec738516cf16e475dca08172e12b'
         '91a965b60ec636670c721692924c11f3'
         '0a0c55f52331e591bcd85a901225771b'
         '41f1deb62e629f9b0260a3d8ec9d10de'
         '7952d9581e8fd8791a9feb42c0146ac6'
         '631046a7b40ec2d2d7e08b8fcf284d93'
         'a6473243b1130177058b4aed23740c68'
         '2de48a4bcc520d02c627928b51004ad0'
         '9f20d950822c78474d3dd4d3dc3641f1'
         'db26181757df81a922e40b91d3100f8f'
         'db2594b757d472eaee6836627fdf5ae9'
         'b8a477191ef8bad04305d8491a289096'
         '1ebd7f71eeecd8d07ee79edacae4d3e4'
         '5a8c51e664896167f675ff2179e4e20c'
         '6a0bbfaeebe17c8dd7bc4a50bee1703b'
         'e672ab06339340f002404c9bde5732c7'
         '3ce9de31745c9032e2ba1c49c7ee8d2d'
         'b6c623ce95ac557e74ee824c018b1d56'
         '8473f85d0327aef85172783c3738d9c5'
         'e806735bb0dba61e382be8c7165173a5'
         '3a1667e8571bffa83d898f3a8dd3173b'
         'b7c25a37a32ed2c57fcfd06c497ce637'
         'b323790a168993e6eddeec5ee90254e0'
         'f10a33c15a6485db67fa8709481d1067'
         '5fa114aa4c415623b37fdbc60f355b07'
         'be52b9d63e9fdd86b140a64c96d1108a'
         '8c2df97d45e3fdbf33d42b231204b5cd'
         'be2a377c2d76a02b39a24cf8c7843e33'
         'd2f6e6d70ab21251d4dd0a028c68a102'
         '703ddafb256d277db0f110632a8707a0'
         '9f3fcf37dfd0310052a5c5b28bd9ee05'
         '02b730aa07a5bd46fe28b99b3820f10f'
         'a35fa6fad98d8733b6bc80b6d5651528'
         '35e504c4497c3863ad705785d474204d'
         '7b37410188265b945ae8631f4b660aa1'
         '4ea0352a34630008e405414cc31ea4be'
         'a25ad1bc5209c35260d2210ff8b54c95'
         '4574d03af2c24d4e2320f987659859c7'
         '1c06aa0211b55b79904b573b73168f8b'
         'd8ca785d80227bb550aa3f191465d5b4'
         '4618530260e46f0af280a3b81e33ad65'
         '23c3072aeb32a3db23485d7170d183a4'
         '36757424dcd8f7c5c1ebc66bef604996'
         '9152ae8649dcf6079aad0685696995fe'
         '96905bcdc3dd91109338ec784a551d13'
         '177daa62db340608796e2e7efa20e6dc'
         'a121e13f08ced2d169da35ae04ec06db'
         '6afd4e825f4f40538187f50e16e22630'
         '3218f94fcebc87b656a488b3eedcf03d'
         '0fc0fecb12e44f919fb042ae063f16d4'
         'fef36e07b1c5cc7b17c47a788665c7b8'
         'efc723094f28976af6c66067e3a9aec0'
         'ca90e84f44825fdca0b86bb10f2043c8'
         '110fb953f0976692c5320d609dabc294'
         'cee74e31345e0468b6a2d11811b21aa3'
         '0dd9c3a48533ec4818f241a4f806d40c'
         'fe0c09bed6d01eeab4c20450b48cebaf'
         '7ebbdbfe6d3534a3797a094c2ab97c0c'
         '6937d277c350fe6bc0568effd176b803'
         '61ea569a90350bcbe0b8b02adb786ac4'
         'b1ee854dd8b09b5bc1725b9e883717f5')

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.jar" || return 1
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.manifest" || return 1
  done
}
