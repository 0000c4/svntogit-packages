# $Id$
# Maintainer: Juergen Hoetzel <juergen@archlinux.org>

pkgname=sawfish
pkgver=1.3.5.2
pkgrel=2
pkgdesc="An extensible window manager using a Lisp-based scripting language"
url="http://sawfish.wikia.com/"
arch=(i686 x86_64)
license=('GPL')
depends=('librep' 'esd' 'gtk2' 'rep-gtk' 'libsm' 'gmp')
source=(http://downloads.sourceforge.net/sourceforge/sawmill/sawfish-$pkgver.tar.bz2 sawfish.install\ 
	sawfish-1.3.5.2-config.h.in.patch)
md5sums=('c552404e721abb7b82fa2028483123b5' '2203a70baad2a2b482636ab41557c848'\
         'ed0a68f48d5680997f645511b1367678')
install=sawfish.install


build() {
  cd $startdir/src/$pkgname-$pkgver
  patch -p1 -i $startdir/src/sawfish-1.3.5.2-config.h.in.patch || return 1
  ./configure --prefix=/usr --enable-capplet
  make || return 1
  make DESTDIR=$startdir/pkg install
  # info stuff
  rm $startdir/pkg/usr/share/info/dir
  gzip -9nf $startdir/pkg/usr/share/info/*
  mkdir -p $startdir/pkg/etc/X11/sessions/
  cp $startdir/src/$pkgname-$pkgver/sawfish.desktop \
      $startdir/pkg/etc/X11/sessions/
}
