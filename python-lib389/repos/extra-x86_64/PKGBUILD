# Maintainer: Sven-Hendrik Haase <svenstaro@gmail.com>
pkgname=python-lib389
pkgver=1.0.4
pkgdesc="389 Directory Server (Python management scripts)"
pkgrel=1
arch=(x86_64)
url="http://port389.org/"
license=(GPL)
depends=(389-ds-base python python-argcomplete python-ldap)
checkdepends=(python-pytest python-dateutil)
makedepends=(python python-setuptools python-argparse-manpage python-argcomplete python-ldap)
source=("https://fedorapeople.org/groups/389ds/binaries/python-lib389-${pkgver}.tar.bz2")
sha512sums=('957e104b9f7ab177d49df284914b7226860e225e48d28f34190b8374be569dadab428a6f235ccce309970af61847a4282db7f2f2cdb13f3d348fe44d993e9bb2')

build() {
  cd "${pkgbase}-${pkgver}"

  python setup.py build
}

package() {
  cd "${pkgbase}-${pkgver}"

  python setup.py install --skip-build -O1 --root=${pkgdir}
  mv ${pkgdir}/usr/sbin ${pkgdir}/usr/bin

  install -Dm644 LICENSE "${pkgdir}"/usr/share/licenses/${pkgname}/LICENSE
}

# vim: set ts=2 sw=2 ft=sh et:

